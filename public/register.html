<script>
  document.getElementById("registerForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const username = this.username.value;
    const phone = this.phone.value;
    const password = this.password.value;
    const confirmPassword = this.confirmPassword.value;

    if (password !== confirmPassword) {
      alert("❌ كلمة المرور غير متطابقة");
      return;
    }

    const data = { username, phone, password };

    const res = await fetch("/api/register", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data),
    });

    if (res.ok) {
      alert("✅ تم إنشاء الحساب بنجاح");
      window.location.href = "add-animal.html";  // ✅ التوجيه التلقائي هنا
    } else {
      alert("❌ حدث خطأ أثناء إنشاء الحساب");
    }
  });
</script>
