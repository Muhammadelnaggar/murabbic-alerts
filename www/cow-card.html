function renderTable(data) {
  const tbody = document.getElementById('animalBody');
  const noData = document.getElementById('noData');
  tbody.innerHTML = '';

  if (!data || data.length === 0) {
    noData.style.display = 'block';
    return;
  } else {
    noData.style.display = 'none';
  }

  data.forEach(animal => {
    const tr = document.createElement('tr');
    tr.style.backgroundColor = animal.animalType === 'بقرة' ? '#fffde7' : '#eeeeee';

    const daysInMilk = animal.lastCalvingDate ? Math.floor((Date.now() - new Date(animal.lastCalvingDate)) / (1000 * 60 * 60 * 24)) : '---';
    const pregnantDays = animal.reproductiveStatus === 'عشار' && animal.lastInseminationDate ? Math.floor((Date.now() - new Date(animal.lastInseminationDate)) / (1000 * 60 * 60 * 24)) : '---';
    const inseminatedDays = animal.reproductiveStatus === 'ملقحة' && animal.lastInseminationDate ? Math.floor((Date.now() - new Date(animal.lastInseminationDate)) / (1000 * 60 * 60 * 24)) : '---';

    tr.innerHTML = `
      <td>${animal.animalNumber || ''}</td>
      <td>${animal.animalType || ''}</td>
      <td>${animal.breed || ''}</td>
      <td>${animal.productionStatus || '---'}</td>
      <td>${daysInMilk}</td>
      <td>${animal.reproductiveStatus || ''}</td>
      <td>${inseminatedDays}</td>
      <td>${animal.dailyMilk || '---'}</td>
      <td>${pregnantDays}</td>
      <td>${animal.birthDate || '---'}</td>
      <td>${animal.lastCalvingDate || '---'}</td>
      <td><button class="button" onclick="viewCard('${animal.id}')">📄</button></td>
      <td><button class="button" onclick="goToAddEvent('${animal.id}')">📋</button></td>
      <td><button class="button delete-button" onclick="deleteAnimal('${animal.id}')">🗑️</button></td>
    `;
    tbody.appendChild(tr);
  });
}
