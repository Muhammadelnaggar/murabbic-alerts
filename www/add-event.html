<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø«</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body { direction: rtl; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
           background:#fff9db; margin:0; padding:20px; }
    h2 { text-align:center; color:#2e7d32; margin-bottom:20px; }
    .grid { display:grid; grid-template-columns:1fr 1fr; gap:15px; }
    button {
      background:#2e7d32; color:#fff; padding:20px;
      border:none; border-radius:10px; font-size:18px;
      cursor:pointer; width:100%;
    }
    button:hover { background:#1b5e20; }
  </style>
</head>
<body>

  <h2>ØªØ³Ø¬ÙŠÙ„ Ø­Ø¯Ø« Ø¬Ø¯ÙŠØ¯</h2>

  <div class="grid">
    <button onclick="goTo('insemination.html')">ğŸ‚ Ø§Ù„ØªÙ„Ù‚ÙŠØ­</button>
    <button onclick="goTo('vaccination.html')">ğŸ’‰ Ø§Ù„ØªØ­ØµÙŠÙ†</button>
    <button onclick="goTo('pregnancy-diagnosis.html')">ğŸ©º ØªØ´Ø®ÙŠØµ Ø§Ù„Ø­Ù…Ù„</button>
    <button onclick="goTo('daily-milk.html')">ğŸ¥› Ø§Ù„Ù„Ø¨Ù† Ø§Ù„ÙŠÙˆÙ…ÙŠ</button>
    <button onclick="goTo('lameness.html')">ğŸ¾ Ø§Ù„Ø¹Ø±Ø¬</button>
    <button onclick="goTo('mastitis.html')">ğŸ¼ Ø§Ù„ØªÙ‡Ø§Ø¨ Ø§Ù„Ø¶Ø±Ø¹</button>
    <button onclick="goTo('calving.html')">ğŸ® Ø§Ù„ÙˆÙ„Ø§Ø¯Ø©</button>
    <button onclick="goTo('close-up.html')">ğŸ“… ØªØ­Ø¶ÙŠØ± Ù„Ù„ÙˆÙ„Ø§Ø¯Ø©</button>
    <button onclick="goTo('nutrition.html')">ğŸŒ¾ Ø§Ù„ØªØºØ°ÙŠØ©</button>
  </div>

  <script>
    // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³ÙŠØ§Ù‚ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ùˆ Ø§Ù„ØªØ®Ø²ÙŠÙ†
    function getContext() {
      const urlParams = new URLSearchParams(window.location.search);
      const ctx = {
        animalId: urlParams.get("animalId") || localStorage.getItem("lastAnimalId") || "",
        date: urlParams.get("date") || localStorage.getItem("lastEventDate") || new Date().toISOString().slice(0,10)
      };
      // Ø­ÙØ¸ Ø¢Ø®Ø± Ù‚ÙŠÙ… Ù„Ù„Ø³ÙŠØ§Ù‚
      if (ctx.animalId) localStorage.setItem("lastAnimalId", ctx.animalId);
      if (ctx.date) localStorage.setItem("lastEventDate", ctx.date);
      return ctx;
    }

    const ctx = getContext();

    // Ø¯Ø§Ù„Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹ ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª
    function buildTargetUrl(page) {
      return `${page}?animalId=${encodeURIComponent(ctx.animalId)}&date=${encodeURIComponent(ctx.date)}`;
    }

    // Ø¯Ø§Ù„Ø© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØµÙØ­Ø©
    function goTo(page) {
      location.href = buildTargetUrl(page);
    }
  </script>

</body>
</html>
